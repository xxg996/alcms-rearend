openapi: 3.0.3
info:
  title: Alcms Backend API
  description: |
    Alcms CMS èµ„æºç®¡ç†ç³»ç»Ÿåç«¯ API
    
    åŸºäº Node.js + Express.js + PostgreSQL æ„å»ºçš„ç°ä»£åŒ–å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œ
    é›†æˆäº†å®Œæ•´çš„ç”¨æˆ·æƒé™ç®¡ç†ã€å¤šåª’ä½“èµ„æºç®¡ç†å’Œå¾®ç¤¾åŒºåŠŸèƒ½ã€‚
    
    ## æ ¸å¿ƒç‰¹æ€§
    - ğŸ” JWT åŒä»¤ç‰Œè®¤è¯æœºåˆ¶
    - ğŸ›¡ï¸ RBAC æƒé™æ§åˆ¶æ¨¡å‹
    - ğŸ“„ CMS èµ„æºç®¡ç†ç³»ç»Ÿ
    - ğŸ’¬ å¾®ç¤¾åŒºç³»ç»Ÿ
    - ğŸ’ VIPä¼šå‘˜ç³»ç»Ÿ
    - ğŸ« å¡å¯†ç”Ÿæˆä¸å…‘æ¢ç³»ç»Ÿ
    - ğŸ’° ç”¨æˆ·ç§¯åˆ†ç³»ç»Ÿ
    - âœ… æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ
    - ğŸ” å…¨æ–‡æœç´¢åŠŸèƒ½
    - ğŸ“Š æ•°æ®ç»Ÿè®¡åˆ†æ
    
    ## å¿«é€Ÿå¼€å§‹
    1. ç™»å½•è·å–è®¿é—®ä»¤ç‰Œ
    2. åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ : `Authorization: Bearer <token>`
    3. å¼€å§‹ä½¿ç”¨APIåŠŸèƒ½
    
    ## APIå‰ç¼€è¯´æ˜
    - **è®¤è¯ç›¸å…³**: `/api/auth/*`
    - **ç”¨æˆ·ç®¡ç†**: `/api/users/*`  
    - **CMSèµ„æº**: `/api/resources/*`, `/api/categories/*`, `/api/tags/*`
    - **å¾®ç¤¾åŒº**: `/api/community/*`
    
  version: 1.0.0
  contact:
    name: Alcms Team
    email: admin@alcms.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:3000/api
    description: å¼€å‘ç¯å¢ƒ
  - url: https://api.alcms.com/api
    description: ç”Ÿäº§ç¯å¢ƒ

tags:
  - name: Authentication
    description: ğŸ” ç”¨æˆ·è®¤è¯ç›¸å…³æ¥å£
  - name: Users
    description: ğŸ‘¥ ç”¨æˆ·ç®¡ç†ç›¸å…³æ¥å£
  - name: Resources
    description: ğŸ“„ èµ„æºç®¡ç†ç›¸å…³æ¥å£
  - name: Categories
    description: ğŸ“‚ åˆ†ç±»ç®¡ç†ç›¸å…³æ¥å£
  - name: Tags
    description: ğŸ·ï¸ æ ‡ç­¾ç®¡ç†ç›¸å…³æ¥å£
  - name: Community Boards
    description: ğŸ  ç¤¾åŒºæ¿å—ç®¡ç†ç›¸å…³æ¥å£
  - name: Community Posts
    description: ğŸ“ ç¤¾åŒºå¸–å­ç®¡ç†ç›¸å…³æ¥å£
  - name: Community Comments
    description: ğŸ’­ ç¤¾åŒºè¯„è®ºç®¡ç†ç›¸å…³æ¥å£
  - name: Community Interactions
    description: ğŸ‘ ç¤¾åŒºäº’åŠ¨åŠŸèƒ½ç›¸å…³æ¥å£
  - name: VIP System
    description: ğŸ’ VIPä¼šå‘˜ç³»ç»Ÿç›¸å…³æ¥å£
  - name: Card Key System
    description: ğŸ« å¡å¯†ç”Ÿæˆä¸å…‘æ¢ç³»ç»Ÿç›¸å…³æ¥å£
  - name: Points System
    description: ğŸ’° ç”¨æˆ·ç§¯åˆ†ç³»ç»Ÿç›¸å…³æ¥å£
  - name: Checkin System
    description: âœ… æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿç›¸å…³æ¥å£

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT è®¿é—®ä»¤ç‰Œ

  schemas:
    # åŸºç¡€å“åº”æ ¼å¼
    BaseResponse:
      type: object
      properties:
        success:
          type: boolean
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
        message:
          type: string
          description: å“åº”æ¶ˆæ¯
        timestamp:
          type: string
          format: date-time
          description: å“åº”æ—¶é—´æˆ³
      required:
        - success
        - message
        - timestamp

    ErrorResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            success:
              type: boolean
              example: false
            errors:
              type: array
              items:
                type: object
              description: è¯¦ç»†é”™è¯¯ä¿¡æ¯

    # ç”¨æˆ·ç›¸å…³æ¨¡å‹
    User:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "admin"
        email:
          type: string
          format: email
          description: é‚®ç®±
          example: "admin@alcms.com"
        nickname:
          type: string
          description: æ˜µç§°
          example: "ç³»ç»Ÿç®¡ç†å‘˜"
        avatar:
          type: string
          nullable: true
          description: å¤´åƒURL
        bio:
          type: string
          nullable: true
          description: ä¸ªäººç®€ä»‹
        status:
          type: string
          enum: [normal, banned, frozen]
          description: ç”¨æˆ·çŠ¶æ€
          example: "normal"
        last_login_at:
          type: string
          format: date-time
          nullable: true
          description: æœ€åç™»å½•æ—¶é—´
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        roles:
          type: array
          items:
            $ref: '#/components/schemas/Role'
          description: ç”¨æˆ·è§’è‰²åˆ—è¡¨

    Role:
      type: object
      properties:
        id:
          type: integer
          description: è§’è‰²ID
          example: 1
        name:
          type: string
          description: è§’è‰²åç§°
          example: "admin"
        display_name:
          type: string
          description: æ˜¾ç¤ºåç§°
          example: "ç®¡ç†å‘˜"
        description:
          type: string
          description: è§’è‰²æè¿°
          example: "ç³»ç»Ÿç®¡ç†å‘˜ï¼Œå…·æœ‰æœ€é«˜æƒé™"

    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          description: é‚®ç®±
          example: "admin@alcms.com"
        password:
          type: string
          description: å¯†ç 
          example: "admin123"

    RegisterRequest:
      type: object
      required:
        - username
        - email
        - password
      properties:
        username:
          type: string
          description: ç”¨æˆ·å
          example: "newuser"
        email:
          type: string
          format: email
          description: é‚®ç®±
          example: "user@example.com"
        password:
          type: string
          description: å¯†ç 
          example: "password123"
        nickname:
          type: string
          description: æ˜µç§°
          example: "æ–°ç”¨æˆ·"

    AuthResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: object
              properties:
                user:
                  $ref: '#/components/schemas/User'
                tokens:
                  type: object
                  properties:
                    accessToken:
                      type: string
                      description: è®¿é—®ä»¤ç‰Œ
                    refreshToken:
                      type: string
                      description: åˆ·æ–°ä»¤ç‰Œ
                    tokenType:
                      type: string
                      example: "Bearer"
                    expiresIn:
                      type: string
                      example: "1h"

    # ç¤¾åŒºç›¸å…³æ¨¡å‹
    CommunityBoard:
      type: object
      properties:
        id:
          type: integer
          description: æ¿å—ID
          example: 1
        name:
          type: string
          description: æ¿å—åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
          example: "tech"
        display_name:
          type: string
          description: æ˜¾ç¤ºåç§°
          example: "æŠ€æœ¯äº¤æµ"
        description:
          type: string
          description: æ¿å—æè¿°
          example: "ç¼–ç¨‹æŠ€æœ¯ã€å¼€å‘ç»éªŒåˆ†äº«"
        icon_url:
          type: string
          nullable: true
          description: å›¾æ ‡URL
        cover_image_url:
          type: string
          nullable: true
          description: å°é¢å›¾ç‰‡URL
        sort_order:
          type: integer
          description: æ’åºé¡ºåº
          example: 1
        is_active:
          type: boolean
          description: æ˜¯å¦æ¿€æ´»
          example: true
        post_count:
          type: integer
          description: å¸–å­æ•°é‡
          example: 42
        last_post_id:
          type: integer
          nullable: true
          description: æœ€æ–°å¸–å­ID
        last_post_time:
          type: string
          format: date-time
          nullable: true
          description: æœ€æ–°å¸–å­æ—¶é—´
        moderator_ids:
          type: array
          items:
            type: integer
          description: ç‰ˆä¸»ç”¨æˆ·IDåˆ—è¡¨
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CreateBoardRequest:
      type: object
      required:
        - name
        - display_name
      properties:
        name:
          type: string
          description: æ¿å—åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
          example: "ai-discussion"
        display_name:
          type: string
          description: æ˜¾ç¤ºåç§°
          example: "AIæŠ€æœ¯è®¨è®º"
        description:
          type: string
          description: æ¿å—æè¿°
          example: "äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ æŠ€æœ¯äº¤æµ"
        icon_url:
          type: string
          description: å›¾æ ‡URL
        sort_order:
          type: integer
          description: æ’åºé¡ºåº
          example: 12
        moderator_ids:
          type: array
          items:
            type: integer
          description: ç‰ˆä¸»ç”¨æˆ·IDåˆ—è¡¨

    CommunityPost:
      type: object
      properties:
        id:
          type: integer
          description: å¸–å­ID
          example: 1
        title:
          type: string
          description: å¸–å­æ ‡é¢˜
          example: "Vue 3 + TypeScript æœ€ä½³å®è·µ"
        content:
          type: string
          description: å¸–å­å†…å®¹
        content_type:
          type: string
          enum: [markdown, html]
          description: å†…å®¹æ ¼å¼
          example: "markdown"
        summary:
          type: string
          description: æ‘˜è¦
          example: "åˆ†äº«Vue 3ç»“åˆTypeScriptçš„å¼€å‘ç»éªŒ"
        author_id:
          type: integer
          description: ä½œè€…ID
          example: 1
        board_id:
          type: integer
          description: æ¿å—ID
          example: 3
        status:
          type: string
          enum: [draft, reviewing, published, rejected, deleted]
          description: å¸–å­çŠ¶æ€
          example: "published"
        is_pinned:
          type: boolean
          description: æ˜¯å¦ç½®é¡¶
          example: false
        is_featured:
          type: boolean
          description: æ˜¯å¦ç²¾å
          example: false
        is_locked:
          type: boolean
          description: æ˜¯å¦é”å®š
          example: false
        view_count:
          type: integer
          description: æµè§ˆæ•°
          example: 156
        reply_count:
          type: integer
          description: å›å¤æ•°
          example: 8
        like_count:
          type: integer
          description: ç‚¹èµæ•°
          example: 23
        favorite_count:
          type: integer
          description: æ”¶è—æ•°
          example: 12
        share_count:
          type: integer
          description: åˆ†äº«æ•°
          example: 5
        published_at:
          type: string
          format: date-time
          description: å‘å¸ƒæ—¶é—´
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´
        # å…³è”æ•°æ®
        author_username:
          type: string
          description: ä½œè€…ç”¨æˆ·å
          example: "developer"
        author_nickname:
          type: string
          description: ä½œè€…æ˜µç§°
          example: "å‰ç«¯å¼€å‘è€…"
        board_name:
          type: string
          description: æ¿å—åç§°
          example: "frontend"
        board_display_name:
          type: string
          description: æ¿å—æ˜¾ç¤ºåç§°
          example: "å‰ç«¯å¼€å‘"
        tags:
          type: array
          items:
            type: string
          description: æ ‡ç­¾åˆ—è¡¨
          example: ["vue", "typescript", "frontend"]

    CreatePostRequest:
      type: object
      required:
        - title
        - content
        - board_id
      properties:
        title:
          type: string
          description: å¸–å­æ ‡é¢˜
          example: "Vue 3 + TypeScript å¼€å‘æŒ‡å—"
        content:
          type: string
          description: å¸–å­å†…å®¹
          example: "# Vue 3 + TypeScript å¼€å‘æŒ‡å—\n\næœ¬æ–‡å°†åˆ†äº«..."
        content_type:
          type: string
          enum: [markdown, html]
          description: å†…å®¹æ ¼å¼
          default: "markdown"
        summary:
          type: string
          description: æ‘˜è¦
          example: "å®Œæ•´çš„Vue 3 + TypeScriptå¼€å‘æŒ‡å—"
        board_id:
          type: integer
          description: æ¿å—ID
          example: 3
        tags:
          type: array
          items:
            type: string
          description: æ ‡ç­¾åˆ—è¡¨
          example: ["vue", "typescript"]
        status:
          type: string
          enum: [draft, published]
          description: å¸–å­çŠ¶æ€
          default: "published"

    CommunityComment:
      type: object
      properties:
        id:
          type: integer
          description: è¯„è®ºID
          example: 1
        content:
          type: string
          description: è¯„è®ºå†…å®¹
          example: "æ„Ÿè°¢åˆ†äº«ï¼è¿™ä¸ªæ•™ç¨‹å¾ˆå®ç”¨ã€‚"
        author_id:
          type: integer
          description: ä½œè€…ID
          example: 2
        post_id:
          type: integer
          description: å¸–å­ID
          example: 1
        parent_id:
          type: integer
          nullable: true
          description: çˆ¶è¯„è®ºIDï¼ˆæ¥¼ä¸­æ¥¼ï¼‰
        reply_to_user_id:
          type: integer
          nullable: true
          description: å›å¤ç›®æ ‡ç”¨æˆ·ID
        floor_number:
          type: integer
          description: æ¥¼å±‚å·
          example: 1
        like_count:
          type: integer
          description: ç‚¹èµæ•°
          example: 5
        is_deleted:
          type: boolean
          description: æ˜¯å¦åˆ é™¤
          example: false
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´
        # å…³è”æ•°æ®
        author_username:
          type: string
          description: ä½œè€…ç”¨æˆ·å
          example: "user123"
        author_nickname:
          type: string
          description: ä½œè€…æ˜µç§°
          example: "æŠ€æœ¯çˆ±å¥½è€…"
        children:
          type: array
          items:
            $ref: '#/components/schemas/CommunityComment'
          description: å­è¯„è®ºåˆ—è¡¨

    CreateCommentRequest:
      type: object
      required:
        - content
        - post_id
      properties:
        content:
          type: string
          description: è¯„è®ºå†…å®¹
          example: "æ„Ÿè°¢åˆ†äº«ï¼æƒ³é—®ä¸€ä¸‹å…³äºTypeScriptç±»å‹å®šä¹‰çš„é—®é¢˜ã€‚"
        post_id:
          type: integer
          description: å¸–å­ID
          example: 1
        parent_id:
          type: integer
          description: çˆ¶è¯„è®ºIDï¼ˆæ¥¼ä¸­æ¥¼å›å¤ï¼‰
        reply_to_user_id:
          type: integer
          description: å›å¤ç›®æ ‡ç”¨æˆ·ID

    # äº’åŠ¨ç›¸å…³æ¨¡å‹
    LikeRequest:
      type: object
      required:
        - target_type
        - target_id
      properties:
        target_type:
          type: string
          enum: [post, comment]
          description: ç‚¹èµç›®æ ‡ç±»å‹
          example: "post"
        target_id:
          type: integer
          description: ç›®æ ‡ID
          example: 1

    FavoriteRequest:
      type: object
      required:
        - post_id
      properties:
        post_id:
          type: integer
          description: å¸–å­ID
          example: 1

    ShareRequest:
      type: object
      required:
        - post_id
      properties:
        post_id:
          type: integer
          description: å¸–å­ID
          example: 1
        platform:
          type: string
          enum: [wechat, weibo, qq, link]
          description: åˆ†äº«å¹³å°
          default: "link"

    ReportRequest:
      type: object
      required:
        - target_type
        - target_id
        - reason
      properties:
        target_type:
          type: string
          enum: [post, comment, user]
          description: ä¸¾æŠ¥ç›®æ ‡ç±»å‹
          example: "post"
        target_id:
          type: integer
          description: ç›®æ ‡ID
          example: 1
        reason:
          type: string
          enum: [spam, inappropriate, harassment, fake, other]
          description: ä¸¾æŠ¥åŸå› 
          example: "inappropriate"
        description:
          type: string
          description: è¯¦ç»†æè¿°
          example: "å†…å®¹åŒ…å«ä¸å½“è¨€è®º"

    # åˆ†é¡µå“åº”
    Pagination:
      type: object
      properties:
        page:
          type: integer
          description: å½“å‰é¡µç 
          example: 1
        limit:
          type: integer
          description: æ¯é¡µæ•°é‡
          example: 20
        total:
          type: integer
          description: æ€»æ•°é‡
          example: 100
        total_pages:
          type: integer
          description: æ€»é¡µæ•°
          example: 5
        has_next:
          type: boolean
          description: æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
          example: true
        has_prev:
          type: boolean
          description: æ˜¯å¦æœ‰ä¸Šä¸€é¡µ
          example: false

    PostListResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/CommunityPost'
                pagination:
                  $ref: '#/components/schemas/Pagination'

    CommentListResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/CommunityComment'
                pagination:
                  $ref: '#/components/schemas/Pagination'

    BoardListResponse:
      allOf:
        - $ref: '#/components/schemas/BaseResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/CommunityBoard'

    # VIPç³»ç»Ÿç›¸å…³æ¨¡å‹
    VIPLevel:
      type: object
      properties:
        level:
          type: integer
          description: VIPç­‰çº§
          example: 1
        name:
          type: string
          description: VIPç­‰çº§åç§°
          example: "vip1"
        display_name:
          type: string
          description: VIPç­‰çº§æ˜¾ç¤ºåç§°
          example: "é»„é‡‘VIP"
        description:
          type: string
          description: VIPç­‰çº§æè¿°
          example: "äº«å—åŸºç¡€VIPç‰¹æƒ"
        benefits:
          type: object
          description: VIPç‰¹æƒé…ç½®
          example:
            download_speed_boost: 2
            daily_points_bonus: 50
        price:
          type: number
          format: float
          description: VIPä»·æ ¼
          example: 29.99
        duration_days:
          type: integer
          description: VIPæœ‰æ•ˆå¤©æ•°
          example: 30
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CreateVIPLevelRequest:
      type: object
      required:
        - level
        - name
        - display_name
      properties:
        level:
          type: integer
          description: VIPç­‰çº§ï¼ˆå¿…é¡»å”¯ä¸€ï¼‰
          example: 2
        name:
          type: string
          description: VIPç­‰çº§åç§°
          example: "vip2"
        display_name:
          type: string
          description: VIPç­‰çº§æ˜¾ç¤ºåç§°
          example: "é“‚é‡‘VIP"
        description:
          type: string
          description: VIPç­‰çº§æè¿°
          example: "äº«å—é«˜çº§VIPç‰¹æƒ"
        benefits:
          type: object
          description: VIPç‰¹æƒé…ç½®
          example:
            download_speed_boost: 3
            daily_points_bonus: 100
        price:
          type: number
          format: float
          description: VIPä»·æ ¼
          example: 59.99
        duration_days:
          type: integer
          description: VIPæœ‰æ•ˆå¤©æ•°
          example: 30

    UserVIPInfo:
      type: object
      properties:
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "testuser"
        is_vip:
          type: boolean
          description: æ˜¯å¦æ˜¯VIPç”¨æˆ·
          example: true
        vip_level:
          type: integer
          nullable: true
          description: VIPç­‰çº§
          example: 1
        vip_expire_at:
          type: string
          format: date-time
          nullable: true
          description: VIPè¿‡æœŸæ—¶é—´ï¼ˆnullè¡¨ç¤ºæ°¸ä¹…VIPï¼‰
        vip_level_info:
          $ref: '#/components/schemas/VIPLevel'
        is_expired:
          type: boolean
          description: VIPæ˜¯å¦å·²è¿‡æœŸ
          example: false
        is_permanent:
          type: boolean
          description: æ˜¯å¦ä¸ºæ°¸ä¹…VIP
          example: false

    VIPOrder:
      type: object
      properties:
        id:
          type: integer
          description: è®¢å•ID
          example: 1
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        type:
          type: string
          enum: [purchase, upgrade, extend, admin_set, card_redeem]
          description: è®¢å•ç±»å‹
          example: "purchase"
        vip_level:
          type: integer
          description: VIPç­‰çº§
          example: 1
        days:
          type: integer
          description: VIPå¤©æ•°
          example: 30
        amount:
          type: number
          format: float
          description: è®¢å•é‡‘é¢
          example: 29.99
        status:
          type: string
          enum: [pending, completed, failed, cancelled]
          description: è®¢å•çŠ¶æ€
          example: "completed"
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    SetUserVIPRequest:
      type: object
      required:
        - vip_level
      properties:
        vip_level:
          type: integer
          description: VIPç­‰çº§
          example: 1
        days:
          type: integer
          description: VIPå¤©æ•°ï¼ˆ0è¡¨ç¤ºæ°¸ä¹…VIPï¼‰
          example: 30
          default: 30

    ExtendUserVIPRequest:
      type: object
      required:
        - days
      properties:
        days:
          type: integer
          description: å»¶é•¿å¤©æ•°ï¼ˆ0è¡¨ç¤ºè®¾ä¸ºæ°¸ä¹…VIPï¼‰
          example: 30

    # å¡å¯†ç³»ç»Ÿç›¸å…³æ¨¡å‹
    CardKey:
      type: object
      properties:
        id:
          type: integer
          description: å¡å¯†ID
          example: 1
        code:
          type: string
          description: å¡å¯†ä»£ç 
          example: "ALCMS-1A2B-3C4D-5E6F"
        type:
          type: string
          enum: [vip, points]
          description: å¡å¯†ç±»å‹
          example: "vip"
        vip_level:
          type: integer
          nullable: true
          description: VIPç­‰çº§ï¼ˆVIPç±»å‹å¡å¯†ï¼‰
          example: 1
        vip_days:
          type: integer
          nullable: true
          description: VIPå¤©æ•°ï¼ˆVIPç±»å‹å¡å¯†ï¼‰
          example: 30
        points:
          type: integer
          nullable: true
          description: ç§¯åˆ†æ•°é‡ï¼ˆç§¯åˆ†ç±»å‹å¡å¯†ï¼‰
          example: 1000
        status:
          type: string
          enum: [unused, used, expired, disabled]
          description: å¡å¯†çŠ¶æ€
          example: "unused"
        batch_id:
          type: string
          description: æ‰¹æ¬¡ID
          example: "batch_20240101_001"
        created_by:
          type: integer
          description: åˆ›å»ºè€…ç”¨æˆ·ID
          example: 1
        created_by_username:
          type: string
          description: åˆ›å»ºè€…ç”¨æˆ·å
          example: "admin"
        used_by:
          type: integer
          nullable: true
          description: ä½¿ç”¨è€…ç”¨æˆ·ID
        used_by_username:
          type: string
          nullable: true
          description: ä½¿ç”¨è€…ç”¨æˆ·å
        used_at:
          type: string
          format: date-time
          nullable: true
          description: ä½¿ç”¨æ—¶é—´
        expire_at:
          type: string
          format: date-time
          nullable: true
          description: è¿‡æœŸæ—¶é—´
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    GenerateCardKeyRequest:
      type: object
      properties:
        type:
          type: string
          enum: [vip, points]
          description: å¡å¯†ç±»å‹
          example: "vip"
          default: "vip"
        vip_level:
          type: integer
          description: VIPç­‰çº§ï¼ˆVIPç±»å‹æ—¶å¿…å¡«ï¼‰
          example: 1
          default: 1
        vip_days:
          type: integer
          description: VIPå¤©æ•°ï¼ˆVIPç±»å‹æ—¶ä½¿ç”¨ï¼‰
          example: 30
          default: 30
        points:
          type: integer
          description: ç§¯åˆ†æ•°é‡ï¼ˆç§¯åˆ†ç±»å‹æ—¶å¿…å¡«ï¼‰
          example: 1000
          default: 0
        expire_at:
          type: string
          format: date-time
          description: å¡å¯†è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰

    BatchGenerateCardKeyRequest:
      allOf:
        - $ref: '#/components/schemas/GenerateCardKeyRequest'
        - type: object
          required:
            - count
          properties:
            count:
              type: integer
              description: ç”Ÿæˆæ•°é‡ï¼ˆ1-1000ï¼‰
              example: 10
              minimum: 1
              maximum: 1000

    RedeemCardKeyRequest:
      type: object
      required:
        - code
      properties:
        code:
          type: string
          description: å¡å¯†ä»£ç 
          example: "ALCMS-1A2B-3C4D-5E6F"

    CardKeyStatistics:
      type: object
      properties:
        total:
          type: integer
          description: æ€»æ•°é‡
          example: 100
        unused:
          type: integer
          description: æœªä½¿ç”¨æ•°é‡
          example: 80
        used:
          type: integer
          description: å·²ä½¿ç”¨æ•°é‡
          example: 15
        expired:
          type: integer
          description: å·²è¿‡æœŸæ•°é‡
          example: 3
        disabled:
          type: integer
          description: å·²ç¦ç”¨æ•°é‡
          example: 2
        by_type:
          type: object
          properties:
            vip:
              type: integer
              example: 70
            points:
              type: integer
              example: 30

    CardKeyBatch:
      type: object
      properties:
        batch_id:
          type: string
          description: æ‰¹æ¬¡ID
          example: "batch_20240101_001"
        type:
          type: string
          description: å¡å¯†ç±»å‹
          example: "vip"
        count:
          type: integer
          description: ç”Ÿæˆæ•°é‡
          example: 50
        created_by_username:
          type: string
          description: åˆ›å»ºè€…ç”¨æˆ·å
          example: "admin"
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    # ç§¯åˆ†ç³»ç»Ÿç›¸å…³æ¨¡å‹
    UserPoints:
      type: object
      properties:
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "testuser"
        current_points:
          type: integer
          description: å½“å‰ç§¯åˆ†
          example: 1500
        total_earned:
          type: integer
          description: ç´¯è®¡è·å¾—ç§¯åˆ†
          example: 5000
        total_spent:
          type: integer
          description: ç´¯è®¡æ¶ˆè´¹ç§¯åˆ†
          example: 3500
        last_activity_at:
          type: string
          format: date-time
          nullable: true
          description: æœ€åæ´»åŠ¨æ—¶é—´
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    PointsRecord:
      type: object
      properties:
        id:
          type: integer
          description: è®°å½•ID
          example: 1
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        type:
          type: string
          enum: [earn, spend, transfer_in, transfer_out, admin_adjust]
          description: ç§¯åˆ†å˜åŠ¨ç±»å‹
          example: "earn"
        amount:
          type: integer
          description: ç§¯åˆ†æ•°é‡ï¼ˆæ­£æ•°ä¸ºå¢åŠ ï¼Œè´Ÿæ•°ä¸ºå‡å°‘ï¼‰
          example: 100
        balance_before:
          type: integer
          description: å˜åŠ¨å‰ä½™é¢
          example: 1400
        balance_after:
          type: integer
          description: å˜åŠ¨åä½™é¢
          example: 1500
        source:
          type: string
          description: ç§¯åˆ†æ¥æº
          example: "daily_checkin"
        description:
          type: string
          description: å˜åŠ¨æè¿°
          example: "æ¯æ—¥ç­¾åˆ°å¥–åŠ±"
        related_user_id:
          type: integer
          nullable: true
          description: å…³è”ç”¨æˆ·IDï¼ˆè½¬è´¦æ—¶ä½¿ç”¨ï¼‰
        admin_id:
          type: integer
          nullable: true
          description: ç®¡ç†å‘˜IDï¼ˆç®¡ç†å‘˜è°ƒæ•´æ—¶ä½¿ç”¨ï¼‰
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    AdjustPointsRequest:
      type: object
      required:
        - amount
      properties:
        amount:
          type: integer
          description: è°ƒæ•´ç§¯åˆ†æ•°é‡ï¼ˆæ­£æ•°å¢åŠ ï¼Œè´Ÿæ•°å‡å°‘ï¼‰
          example: 100
        description:
          type: string
          description: è°ƒæ•´åŸå› æè¿°
          example: "æ´»åŠ¨å¥–åŠ±"

    TransferPointsRequest:
      type: object
      required:
        - to_user_id
        - amount
      properties:
        to_user_id:
          type: integer
          description: æ¥æ”¶ç”¨æˆ·ID
          example: 2
        amount:
          type: integer
          description: è½¬è´¦ç§¯åˆ†æ•°é‡
          example: 100
          minimum: 1
          maximum: 10000
        description:
          type: string
          description: è½¬è´¦å¤‡æ³¨
          example: "æ„Ÿè°¢å¸®åŠ©"

    BatchGrantPointsRequest:
      type: object
      required:
        - user_ids
        - amount
      properties:
        user_ids:
          type: array
          items:
            type: integer
          description: ç”¨æˆ·IDåˆ—è¡¨
          example: [1, 2, 3, 4, 5]
          maxItems: 1000
        amount:
          type: integer
          description: å‘æ”¾ç§¯åˆ†æ•°é‡
          example: 100
          minimum: 1
        description:
          type: string
          description: å‘æ”¾åŸå› æè¿°
          example: "æ–°å¹´æ´»åŠ¨å¥–åŠ±"

    PointsLeaderboard:
      type: object
      properties:
        rank:
          type: integer
          description: æ’å
          example: 1
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "topuser"
        nickname:
          type: string
          description: ç”¨æˆ·æ˜µç§°
          example: "ç§¯åˆ†è¾¾äºº"
        points:
          type: integer
          description: ç§¯åˆ†æ•°é‡
          example: 5000
        rank_change:
          type: integer
          description: æ’åå˜åŒ–ï¼ˆä¸ä¸Šæ¬¡ç›¸æ¯”ï¼‰
          example: 2

    PointsStatistics:
      type: object
      properties:
        total_users:
          type: integer
          description: æ€»ç”¨æˆ·æ•°
          example: 1000
        active_users:
          type: integer
          description: æ´»è·ƒç”¨æˆ·æ•°
          example: 800
        total_points_issued:
          type: integer
          description: ç´¯è®¡å‘æ”¾ç§¯åˆ†
          example: 1000000
        total_points_spent:
          type: integer
          description: ç´¯è®¡æ¶ˆè´¹ç§¯åˆ†
          example: 600000
        avg_points_per_user:
          type: number
          format: float
          description: äººå‡ç§¯åˆ†
          example: 750.5
        top_earners:
          type: array
          items:
            $ref: '#/components/schemas/PointsLeaderboard'
          description: ç§¯åˆ†æ¦œå‰10å

    # ç­¾åˆ°ç³»ç»Ÿç›¸å…³æ¨¡å‹
    CheckinRecord:
      type: object
      properties:
        id:
          type: integer
          description: ç­¾åˆ°è®°å½•ID
          example: 1
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        checkin_date:
          type: string
          format: date
          description: ç­¾åˆ°æ—¥æœŸ
          example: "2024-01-01"
        consecutive_days:
          type: integer
          description: è¿ç»­ç­¾åˆ°å¤©æ•°
          example: 7
        points_earned:
          type: integer
          description: è·å¾—ç§¯åˆ†
          example: 20
        bonus_points:
          type: integer
          description: å¥–åŠ±ç§¯åˆ†
          example: 30
        total_points:
          type: integer
          description: æ€»è®¡ç§¯åˆ†
          example: 50
        is_makeup:
          type: boolean
          description: æ˜¯å¦ä¸ºè¡¥ç­¾
          example: false
        makeup_by:
          type: integer
          nullable: true
          description: è¡¥ç­¾æ“ä½œè€…ID
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    CheckinStatus:
      type: object
      properties:
        checked_in_today:
          type: boolean
          description: ä»Šæ—¥æ˜¯å¦å·²ç­¾åˆ°
          example: true
        today_checkin:
          $ref: '#/components/schemas/CheckinRecord'
        stats:
          $ref: '#/components/schemas/CheckinStats'
        config:
          type: object
          properties:
            daily_points:
              type: integer
              description: æ¯æ—¥åŸºç¡€ç§¯åˆ†
              example: 10
            consecutive_bonus:
              type: object
              description: è¿ç»­ç­¾åˆ°å¥–åŠ±é…ç½®
              example:
                "7": 50
                "30": 200

    CheckinStats:
      type: object
      properties:
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        total_checkins:
          type: integer
          description: æ€»ç­¾åˆ°æ¬¡æ•°
          example: 150
        consecutive_days:
          type: integer
          description: å½“å‰è¿ç»­ç­¾åˆ°å¤©æ•°
          example: 7
        max_consecutive_days:
          type: integer
          description: æœ€é•¿è¿ç»­ç­¾åˆ°å¤©æ•°
          example: 30
        current_month_checkins:
          type: integer
          description: æœ¬æœˆç­¾åˆ°æ¬¡æ•°
          example: 15
        total_points_earned:
          type: integer
          description: ç­¾åˆ°ç´¯è®¡è·å¾—ç§¯åˆ†
          example: 3500
        last_checkin_date:
          type: string
          format: date
          nullable: true
          description: æœ€åç­¾åˆ°æ—¥æœŸ
          example: "2024-01-01"
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CheckinConfig:
      type: object
      properties:
        id:
          type: integer
          description: é…ç½®ID
          example: 1
        name:
          type: string
          description: é…ç½®åç§°
          example: "é»˜è®¤ç­¾åˆ°é…ç½®"
        description:
          type: string
          description: é…ç½®æè¿°
          example: "æ¯æ—¥ç­¾åˆ°åŸºç¡€ç§¯åˆ†10ï¼Œè¿ç»­ç­¾åˆ°æœ‰é¢å¤–å¥–åŠ±"
        daily_points:
          type: integer
          description: æ¯æ—¥åŸºç¡€ç§¯åˆ†
          example: 10
        consecutive_bonus:
          type: object
          description: è¿ç»­ç­¾åˆ°å¥–åŠ±é…ç½®
          example:
            "7": 50
            "30": 200
            "100": 1000
        monthly_reset:
          type: boolean
          description: æ˜¯å¦æœˆåº¦é‡ç½®è¿ç»­å¤©æ•°
          example: true
        is_active:
          type: boolean
          description: æ˜¯å¦æ¿€æ´»
          example: true
        created_by:
          type: integer
          description: åˆ›å»ºè€…ID
          example: 1
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CreateCheckinConfigRequest:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          description: é…ç½®åç§°
          example: "æ–°å¹´ç­¾åˆ°æ´»åŠ¨"
        description:
          type: string
          description: é…ç½®æè¿°
          example: "æ–°å¹´æœŸé—´ç­¾åˆ°è·å¾—åŒå€ç§¯åˆ†"
        daily_points:
          type: integer
          description: æ¯æ—¥åŸºç¡€ç§¯åˆ†
          example: 20
          default: 10
        consecutive_bonus:
          type: object
          description: è¿ç»­ç­¾åˆ°å¥–åŠ±é…ç½®
          example:
            "7": 100
            "30": 500
          default: {}
        monthly_reset:
          type: boolean
          description: æ˜¯å¦æœˆåº¦é‡ç½®è¿ç»­å¤©æ•°
          example: false
          default: true

    MakeupCheckinRequest:
      type: object
      required:
        - date
      properties:
        date:
          type: string
          format: date
          description: è¡¥ç­¾æ—¥æœŸï¼ˆYYYY-MM-DDæ ¼å¼ï¼‰
          example: "2024-01-01"

    CheckinLeaderboard:
      type: object
      properties:
        rank:
          type: integer
          description: æ’å
          example: 1
        user_id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "checkin_master"
        nickname:
          type: string
          description: ç”¨æˆ·æ˜µç§°
          example: "ç­¾åˆ°è¾¾äºº"
        value:
          type: integer
          description: æ’è¡Œæ•°å€¼ï¼ˆæ ¹æ®ç±»å‹ä¸åŒï¼‰
          example: 365
        rank_change:
          type: integer
          description: æ’åå˜åŒ–
          example: 1

    CheckinStatistics:
      type: object
      properties:
        total_users:
          type: integer
          description: æ€»ç”¨æˆ·æ•°
          example: 1000
        today_checkins:
          type: integer
          description: ä»Šæ—¥ç­¾åˆ°ç”¨æˆ·æ•°
          example: 650
        avg_consecutive_days:
          type: number
          format: float
          description: å¹³å‡è¿ç»­ç­¾åˆ°å¤©æ•°
          example: 8.5
        total_points_distributed:
          type: integer
          description: ç´¯è®¡å‘æ”¾ç§¯åˆ†
          example: 500000
        monthly_stats:
          type: array
          items:
            type: object
            properties:
              month:
                type: string
                example: "2024-01"
              checkin_count:
                type: integer
                example: 15000
              unique_users:
                type: integer
                example: 800

  responses:
    UnauthorizedError:
      description: æœªæˆæƒè®¿é—®
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            success: false
            message: "è®¿é—®ä»¤ç‰Œæ— æ•ˆæˆ–å·²è¿‡æœŸ"
            timestamp: "2024-01-01T00:00:00.000Z"

    ForbiddenError:
      description: æƒé™ä¸è¶³
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            success: false
            message: "æƒé™ä¸è¶³ï¼Œæ— æ³•æ‰§è¡Œæ­¤æ“ä½œ"
            timestamp: "2024-01-01T00:00:00.000Z"

    NotFoundError:
      description: èµ„æºä¸å­˜åœ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            success: false
            message: "è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨"
            timestamp: "2024-01-01T00:00:00.000Z"

    BadRequestError:
      description: è¯·æ±‚å‚æ•°é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            success: false
            message: "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
            timestamp: "2024-01-01T00:00:00.000Z"

    InternalServerError:
      description: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            success: false
            message: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
            timestamp: "2024-01-01T00:00:00.000Z"

paths:
  # è®¤è¯ç›¸å…³æ¥å£
  /auth/login:
    post:
      tags:
        - Authentication
      summary: ç”¨æˆ·ç™»å½•
      description: ä½¿ç”¨é‚®ç®±å’Œå¯†ç ç™»å½•ç³»ç»Ÿ
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: ç™»å½•æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          description: ç™»å½•å¤±è´¥
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: false
                message: "é‚®ç®±æˆ–å¯†ç é”™è¯¯"
                timestamp: "2024-01-01T00:00:00.000Z"

  /auth/register:
    post:
      tags:
        - Authentication
      summary: ç”¨æˆ·æ³¨å†Œ
      description: æ³¨å†Œæ–°ç”¨æˆ·è´¦æˆ·
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: æ³¨å†ŒæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: ç”¨æˆ·å·²å­˜åœ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: false
                message: "é‚®ç®±æˆ–ç”¨æˆ·åå·²è¢«ä½¿ç”¨"
                timestamp: "2024-01-01T00:00:00.000Z"

  /auth/profile:
    get:
      tags:
        - Authentication
      summary: è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
      description: è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
      security:
        - BearerAuth: []
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /auth/logout:
    post:
      tags:
        - Authentication
      summary: ç”¨æˆ·ç™»å‡º
      description: ç™»å‡ºå½“å‰ç”¨æˆ·å¹¶ä½¿ä»¤ç‰Œå¤±æ•ˆ
      security:
        - BearerAuth: []
      responses:
        '200':
          description: ç™»å‡ºæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ç”¨æˆ·ç®¡ç†ï¼ˆæœ€å°å¯ç”¨å®šä¹‰ï¼‰
  /users:
    get:
      tags: [Users]
      summary: è·å–ç”¨æˆ·åˆ—è¡¨
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }
    post:
      tags: [Users]
      summary: åˆ›å»ºç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
      security: [{ BearerAuth: [] }]
      responses:
        '201': { description: Created }

  /users/{userId}:
    get:
      tags: [Users]
      summary: è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯
      parameters:
        - { name: userId, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFoundError' }
    delete:
      tags: [Users]
      summary: åˆ é™¤ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
      parameters:
        - { name: userId, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFoundError' }

  /users/profile:
    put:
      tags: [Users]
      summary: æ›´æ–°ç”¨æˆ·èµ„æ–™
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  /users/{userId}/status:
    put:
      tags: [Users]
      summary: æ›´æ–°ç”¨æˆ·çŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰
      parameters:
        - { name: userId, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  # èµ„æºç®¡ç†ï¼ˆæœ€å°å¯ç”¨å®šä¹‰ï¼‰
  /resources:
    get:
      tags: [Resources]
      summary: è·å–èµ„æºåˆ—è¡¨
      responses:
        '200': { description: OK }
    post:
      tags: [Resources]
      summary: åˆ›å»ºèµ„æº
      security: [{ BearerAuth: [] }]
      responses:
        '201': { description: Created }

  /resources/{id}:
    get:
      tags: [Resources]
      summary: è·å–èµ„æºè¯¦æƒ…
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFoundError' }
    put:
      tags: [Resources]
      summary: æ›´æ–°èµ„æº
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }
    delete:
      tags: [Resources]
      summary: åˆ é™¤èµ„æº
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  /resources/{id}/download:
    post:
      tags: [Resources]
      summary: ä¸‹è½½èµ„æº
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  # åˆ†ç±»ç®¡ç†ï¼ˆæœ€å°å¯ç”¨å®šä¹‰ï¼‰
  /categories:
    get:
      tags: [Categories]
      summary: è·å–åˆ†ç±»åˆ—è¡¨
      responses:
        '200': { description: OK }
    post:
      tags: [Categories]
      summary: åˆ›å»ºåˆ†ç±»
      security: [{ BearerAuth: [] }]
      responses:
        '201': { description: Created }

  /categories/{id}:
    get:
      tags: [Categories]
      summary: è·å–åˆ†ç±»è¯¦æƒ…
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFoundError' }
    put:
      tags: [Categories]
      summary: æ›´æ–°åˆ†ç±»
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  # VIPç³»ç»Ÿç›¸å…³æ¥å£
  /vip/levels:
    get:
      tags: [VIP System]
      summary: è·å–æ‰€æœ‰VIPç­‰çº§é…ç½®
      responses: { '200': { description: è·å–æˆåŠŸ } }
    post:
      tags: [VIP System]
      summary: åˆ›å»ºVIPç­‰çº§é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/CreateVIPLevelRequest' }
      responses: { '201': { description: åˆ›å»ºæˆåŠŸ } }
  /vip/levels/{level}:
    get:
      tags: [VIP System]
      summary: è·å–æŒ‡å®šVIPç­‰çº§é…ç½®
      parameters: [{ name: level, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
    put:
      tags: [VIP System]
      summary: æ›´æ–°VIPç­‰çº§é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: level, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: æ›´æ–°æˆåŠŸ } }
    delete:
      tags: [VIP System]
      summary: åˆ é™¤VIPç­‰çº§é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: level, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: åˆ é™¤æˆåŠŸ } }
  /vip/my-info:
    get:
      tags: [VIP System]
      summary: è·å–å½“å‰ç”¨æˆ·VIPä¿¡æ¯
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /vip/my-orders:
    get:
      tags: [VIP System]
      summary: è·å–å½“å‰ç”¨æˆ·è®¢å•å†å²
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /vip/orders/{orderId}:
    get:
      tags: [VIP System]
      summary: è·å–è®¢å•è¯¦æƒ…
      security: [{ BearerAuth: [] }]
      parameters: [{ name: orderId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /vip/users/{userId}/info:
    get:
      tags: [VIP System]
      summary: è·å–ç”¨æˆ·VIPä¿¡æ¯ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /vip/users/{userId}/set:
    post:
      tags: [VIP System]
      summary: è®¾ç½®ç”¨æˆ·VIPï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/SetUserVIPRequest' }
      responses: { '200': { description: è®¾ç½®æˆåŠŸ } }
  /vip/users/{userId}/extend:
    post:
      tags: [VIP System]
      summary: å»¶é•¿ç”¨æˆ·VIPæ—¶é—´ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/ExtendUserVIPRequest' }
      responses: { '200': { description: å»¶é•¿æˆåŠŸ } }
  /vip/users/{userId}/cancel:
    delete:
      tags: [VIP System]
      summary: å–æ¶ˆç”¨æˆ·VIPï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: å–æ¶ˆæˆåŠŸ } }
  /vip/system/update-expired:
    post:
      tags: [VIP System]
      summary: æ›´æ–°è¿‡æœŸVIPç”¨æˆ·ï¼ˆç³»ç»Ÿä»»åŠ¡ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: æ›´æ–°æˆåŠŸ } }

  # å¡å¯†ç³»ç»Ÿç›¸å…³æ¥å£
  /card-keys/redeem:
    post:
      tags: [Card Key System]
      summary: å…‘æ¢å¡å¯†
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/RedeemCardKeyRequest' }
      responses: { '200': { description: å…‘æ¢æˆåŠŸ } }
  /card-keys/info/{code}:
    get:
      tags: [Card Key System]
      summary: æŸ¥è¯¢å¡å¯†ä¿¡æ¯
      security: [{ BearerAuth: [] }]
      parameters: [{ name: code, in: path, required: true, schema: { type: string } }]
      responses: { '200': { description: æŸ¥è¯¢æˆåŠŸ } }
  /card-keys/generate/single:
    post:
      tags: [Card Key System]
      summary: ç”Ÿæˆå•ä¸ªå¡å¯†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/GenerateCardKeyRequest' }
      responses: { '201': { description: ç”ŸæˆæˆåŠŸ } }
  /card-keys/generate/batch:
    post:
      tags: [Card Key System]
      summary: æ‰¹é‡ç”Ÿæˆå¡å¯†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/BatchGenerateCardKeyRequest' }
      responses: { '201': { description: æ‰¹é‡ç”ŸæˆæˆåŠŸ } }
  /card-keys/list:
    get:
      tags: [Card Key System]
      summary: è·å–å¡å¯†åˆ—è¡¨ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /card-keys/statistics:
    get:
      tags: [Card Key System]
      summary: è·å–å¡å¯†ç»Ÿè®¡ä¿¡æ¯ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /card-keys/batches:
    get:
      tags: [Card Key System]
      summary: è·å–æ‰¹æ¬¡åˆ—è¡¨ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /card-keys/batches/{batchId}:
    get:
      tags: [Card Key System]
      summary: è·å–æ‰¹æ¬¡è¯¦æƒ…ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: batchId, in: path, required: true, schema: { type: string } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
    delete:
      tags: [Card Key System]
      summary: åˆ é™¤æ•´ä¸ªæ‰¹æ¬¡ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: batchId, in: path, required: true, schema: { type: string } }]
      responses: { '200': { description: åˆ é™¤æˆåŠŸ } }
  /card-keys/{cardId}/status:
    put:
      tags: [Card Key System]
      summary: æ›´æ–°å¡å¯†çŠ¶æ€ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: cardId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: æ›´æ–°æˆåŠŸ } }
  /card-keys/{cardId}:
    delete:
      tags: [Card Key System]
      summary: åˆ é™¤å¡å¯†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: cardId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: åˆ é™¤æˆåŠŸ } }

  # ç§¯åˆ†ç³»ç»Ÿç›¸å…³æ¥å£
  /points/my-info:
    get:
      tags: [Points System]
      summary: è·å–å½“å‰ç”¨æˆ·ç§¯åˆ†ä¿¡æ¯
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/my-records:
    get:
      tags: [Points System]
      summary: è·å–å½“å‰ç”¨æˆ·ç§¯åˆ†è®°å½•
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/my-rank:
    get:
      tags: [Points System]
      summary: è·å–å½“å‰ç”¨æˆ·ç§¯åˆ†æ’å
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/transfer:
    post:
      tags: [Points System]
      summary: ç§¯åˆ†è½¬è´¦
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/TransferPointsRequest' }
      responses: { '200': { description: è½¬è´¦æˆåŠŸ } }
  /points/leaderboard:
    get:
      tags: [Points System]
      summary: è·å–ç§¯åˆ†æ’è¡Œæ¦œ
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/users/{userId}/info:
    get:
      tags: [Points System]
      summary: è·å–ç”¨æˆ·ç§¯åˆ†ä¿¡æ¯ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/users/{userId}/records:
    get:
      tags: [Points System]
      summary: è·å–ç”¨æˆ·ç§¯åˆ†è®°å½•ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /points/users/{userId}/adjust:
    post:
      tags: [Points System]
      summary: è°ƒæ•´ç”¨æˆ·ç§¯åˆ†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/AdjustPointsRequest' }
      responses: { '200': { description: è°ƒæ•´æˆåŠŸ } }
  /points/batch/grant:
    post:
      tags: [Points System]
      summary: æ‰¹é‡å‘æ”¾ç§¯åˆ†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/BatchGrantPointsRequest' }
      responses: { '200': { description: æ‰¹é‡å‘æ”¾å®Œæˆ } }
  /points/statistics:
    get:
      tags: [Points System]
      summary: è·å–ç§¯åˆ†ç»Ÿè®¡ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }

  # ç­¾åˆ°ç³»ç»Ÿç›¸å…³æ¥å£
  /checkin/check:
    post:
      tags: [Checkin System]
      summary: æ‰§è¡Œç­¾åˆ°
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: ç­¾åˆ°æˆåŠŸ } }
  /checkin/my-status:
    get:
      tags: [Checkin System]
      summary: è·å–å½“å‰ç”¨æˆ·ç­¾åˆ°çŠ¶æ€
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /checkin/my-history:
    get:
      tags: [Checkin System]
      summary: è·å–å½“å‰ç”¨æˆ·ç­¾åˆ°å†å²
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /checkin/leaderboard:
    get:
      tags: [Checkin System]
      summary: è·å–ç­¾åˆ°æ’è¡Œæ¦œ
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /checkin/configs:
    get:
      tags: [Checkin System]
      summary: è·å–æ‰€æœ‰ç­¾åˆ°é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
    post:
      tags: [Checkin System]
      summary: åˆ›å»ºç­¾åˆ°é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/CreateCheckinConfigRequest' }
      responses: { '201': { description: åˆ›å»ºæˆåŠŸ } }
  /checkin/configs/{configId}:
    put:
      tags: [Checkin System]
      summary: æ›´æ–°ç­¾åˆ°é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: configId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: æ›´æ–°æˆåŠŸ } }
  /checkin/users/{userId}/info:
    get:
      tags: [Checkin System]
      summary: è·å–ç”¨æˆ·ç­¾åˆ°ä¿¡æ¯ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /checkin/users/{userId}/history:
    get:
      tags: [Checkin System]
      summary: è·å–ç”¨æˆ·ç­¾åˆ°å†å²ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
  /checkin/users/{userId}/makeup:
    post:
      tags: [Checkin System]
      summary: è¡¥ç­¾åŠŸèƒ½ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/MakeupCheckinRequest' }
      responses: { '200': { description: è¡¥ç­¾æˆåŠŸ } }
  /checkin/users/{userId}/reset:
    delete:
      tags: [Checkin System]
      summary: é‡ç½®ç”¨æˆ·ç­¾åˆ°æ•°æ®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      parameters: [{ name: userId, in: path, required: true, schema: { type: integer } }]
      responses: { '200': { description: é‡ç½®æˆåŠŸ } }
  /checkin/statistics:
    get:
      tags: [Checkin System]
      summary: è·å–ç­¾åˆ°ç»Ÿè®¡ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security: [{ BearerAuth: [] }]
      responses: { '200': { description: è·å–æˆåŠŸ } }
    delete:
      tags: [Categories]
      summary: åˆ é™¤åˆ†ç±»
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  # æ ‡ç­¾ç®¡ç†ï¼ˆæœ€å°å¯ç”¨å®šä¹‰ï¼‰
  /tags:
    get:
      tags: [Tags]
      summary: è·å–æ ‡ç­¾åˆ—è¡¨
      responses:
        '200': { description: OK }
    post:
      tags: [Tags]
      summary: åˆ›å»ºæ ‡ç­¾
      security: [{ BearerAuth: [] }]
      responses:
        '201': { description: Created }

  /tags/{id}:
    get:
      tags: [Tags]
      summary: è·å–æ ‡ç­¾è¯¦æƒ…
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFoundError' }
    put:
      tags: [Tags]
      summary: æ›´æ–°æ ‡ç­¾
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }
    delete:
      tags: [Tags]
      summary: åˆ é™¤æ ‡ç­¾
      parameters:
        - { name: id, in: path, required: true, schema: { type: integer } }
      security: [{ BearerAuth: [] }]
      responses:
        '200': { description: OK }

  # ç¤¾åŒºæ¿å—ç®¡ç†
  /community/boards:
    get:
      tags:
        - Community Boards
      summary: è·å–æ¿å—åˆ—è¡¨
      description: è·å–ç¤¾åŒºæ¿å—åˆ—è¡¨ï¼Œæ”¯æŒç»Ÿè®¡ä¿¡æ¯å’ŒçŠ¶æ€ç­›é€‰
      parameters:
        - name: includeStats
          in: query
          schema:
            type: boolean
            default: false
          description: æ˜¯å¦åŒ…å«ç»Ÿè®¡ä¿¡æ¯
        - name: activeOnly
          in: query
          schema:
            type: boolean
            default: true
          description: ä»…æ˜¾ç¤ºæ¿€æ´»çš„æ¿å—
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BoardListResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Community Boards
      summary: åˆ›å»ºæ¿å—
      description: åˆ›å»ºæ–°çš„ç¤¾åŒºæ¿å—ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBoardRequest'
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityBoard'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

  /community/boards/{id}:
    get:
      tags:
        - Community Boards
      summary: è·å–æ¿å—è¯¦æƒ…
      description: æ ¹æ®IDè·å–æ¿å—è¯¦ç»†ä¿¡æ¯
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æ¿å—ID
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityBoard'
        '404':
          $ref: '#/components/responses/NotFoundError'

    put:
      tags:
        - Community Boards
      summary: æ›´æ–°æ¿å—
      description: æ›´æ–°æ¿å—ä¿¡æ¯ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æ¿å—ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBoardRequest'
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityBoard'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    delete:
      tags:
        - Community Boards
      summary: åˆ é™¤æ¿å—
      description: åˆ é™¤æ¿å—ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æ¿å—ID
      responses:
        '200':
          description: åˆ é™¤æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/boards/search/query:
    get:
      tags:
        - Community Boards
      summary: æœç´¢æ¿å—
      description: æ ¹æ®å…³é”®è¯æœç´¢æ¿å—
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
          description: æœç´¢å…³é”®è¯
          example: "æŠ€æœ¯"
      responses:
        '200':
          description: æœç´¢æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BoardListResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'

  /community/boards/{id}/stats:
    get:
      tags:
        - Community Boards
      summary: è·å–æ¿å—ç»Ÿè®¡
      description: è·å–æŒ‡å®šæ¿å—çš„ç»Ÿè®¡ä¿¡æ¯
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æ¿å—ID
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          name:
                            type: string
                          display_name:
                            type: string
                          total_posts:
                            type: string
                          total_comments:
                            type: string
                          unique_authors:
                            type: string
                          latest_post_time:
                            type: string
                            format: date-time
                          avg_view_count:
                            type: string
        '404':
          $ref: '#/components/responses/NotFoundError'

  # ç¤¾åŒºå¸–å­ç®¡ç†
  /community/posts:
    get:
      tags:
        - Community Posts
      summary: è·å–å¸–å­åˆ—è¡¨
      description: è·å–ç¤¾åŒºå¸–å­åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æ’åº
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          description: é¡µç 
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
          description: æ¯é¡µæ•°é‡
        - name: board_id
          in: query
          schema:
            type: integer
          description: æ¿å—IDç­›é€‰
        - name: author_id
          in: query
          schema:
            type: integer
          description: ä½œè€…IDç­›é€‰
        - name: status
          in: query
          schema:
            type: string
            default: "published"
          description: çŠ¶æ€ç­›é€‰
        - name: is_pinned
          in: query
          schema:
            type: boolean
          description: æ˜¯å¦ç½®é¡¶ç­›é€‰
        - name: is_featured
          in: query
          schema:
            type: boolean
          description: æ˜¯å¦ç²¾åç­›é€‰
        - name: sort_by
          in: query
          schema:
            type: string
            default: "last_reply_time"
          description: æ’åºå­—æ®µ
        - name: sort_order
          in: query
          schema:
            type: string
            enum: [ASC, DESC]
            default: "DESC"
          description: æ’åºæ–¹å‘
        - name: search
          in: query
          schema:
            type: string
          description: æœç´¢å…³é”®è¯
        - name: tags
          in: query
          schema:
            type: string
          description: æ ‡ç­¾ç­›é€‰ï¼ˆé€—å·åˆ†éš”ï¼‰
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostListResponse'

    post:
      tags:
        - Community Posts
      summary: åˆ›å»ºå¸–å­
      description: åˆ›å»ºæ–°å¸–å­ï¼ˆéœ€è¦ç™»å½•ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePostRequest'
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /community/posts/{id}:
    get:
      tags:
        - Community Posts
      summary: è·å–å¸–å­è¯¦æƒ…
      description: è·å–å¸–å­è¯¦æƒ…ï¼Œä¼šè‡ªåŠ¨å¢åŠ æµè§ˆæ•°
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '404':
          $ref: '#/components/responses/NotFoundError'

    put:
      tags:
        - Community Posts
      summary: æ›´æ–°å¸–å­
      description: æ›´æ–°å¸–å­å†…å®¹ï¼ˆä»…ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePostRequest'
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    delete:
      tags:
        - Community Posts
      summary: åˆ é™¤å¸–å­
      description: åˆ é™¤å¸–å­ï¼ˆä»…ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      responses:
        '200':
          description: åˆ é™¤æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/posts/search/query:
    get:
      tags:
        - Community Posts
      summary: æœç´¢å¸–å­
      description: å…¨æ–‡æœç´¢å¸–å­å†…å®¹
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
          description: æœç´¢å…³é”®è¯
          example: "vue typescript"
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          description: é¡µç 
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
          description: æ¯é¡µæ•°é‡
        - name: board_id
          in: query
          schema:
            type: integer
          description: é™åˆ¶åœ¨ç‰¹å®šæ¿å—æœç´¢
      responses:
        '200':
          description: æœç´¢æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostListResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'

  /community/posts/hot/list:
    get:
      tags:
        - Community Posts
      summary: è·å–çƒ­é—¨å¸–å­
      description: è·å–çƒ­é—¨å¸–å­åˆ—è¡¨
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
          description: è¿”å›æ•°é‡
        - name: board_id
          in: query
          schema:
            type: integer
          description: æ¿å—IDï¼ˆå¯é€‰ï¼‰
        - name: days
          in: query
          schema:
            type: integer
            default: 7
          description: ç»Ÿè®¡å¤©æ•°
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/CommunityPost'

  /community/posts/{id}/pin:
    patch:
      tags:
        - Community Posts
      summary: ç½®é¡¶å¸–å­
      description: ç½®é¡¶/å–æ¶ˆç½®é¡¶å¸–å­ï¼ˆéœ€è¦ç‰ˆä¸»æƒé™ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                is_pinned:
                  type: boolean
                  default: true
                  description: æ˜¯å¦ç½®é¡¶
      responses:
        '200':
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/posts/{id}/feature:
    patch:
      tags:
        - Community Posts
      summary: è®¾ç½®ç²¾åå¸–
      description: è®¾ç½®/å–æ¶ˆç²¾åå¸–ï¼ˆéœ€è¦ç‰ˆä¸»æƒé™ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                is_featured:
                  type: boolean
                  default: true
                  description: æ˜¯å¦ç²¾å
      responses:
        '200':
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/posts/{id}/lock:
    patch:
      tags:
        - Community Posts
      summary: é”å®šå¸–å­
      description: é”å®š/è§£é”å¸–å­ï¼ˆéœ€è¦ç‰ˆä¸»æƒé™ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                is_locked:
                  type: boolean
                  default: true
                  description: æ˜¯å¦é”å®š
      responses:
        '200':
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityPost'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # ç¤¾åŒºè¯„è®ºç®¡ç†
  /community/posts/{post_id}/comments:
    get:
      tags:
        - Community Comments
      summary: è·å–å¸–å­è¯„è®º
      description: è·å–å¸–å­çš„è¯„è®ºåˆ—è¡¨
      parameters:
        - name: post_id
          in: path
          required: true
          schema:
            type: integer
          description: å¸–å­ID
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          description: é¡µç 
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
          description: æ¯é¡µæ•°é‡
        - name: sort_by
          in: query
          schema:
            type: string
            default: "created_at"
          description: æ’åºå­—æ®µ
        - name: sort_order
          in: query
          schema:
            type: string
            enum: [ASC, DESC]
            default: "ASC"
          description: æ’åºæ–¹å‘
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommentListResponse'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/comments:
    post:
      tags:
        - Community Comments
      summary: åˆ›å»ºè¯„è®º
      description: åˆ›å»ºæ–°è¯„è®ºï¼ˆä¸»è¯„è®ºæˆ–å›å¤ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCommentRequest'
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityComment'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /community/comments/{id}:
    get:
      tags:
        - Community Comments
      summary: è·å–è¯„è®ºè¯¦æƒ…
      description: è·å–å•ä¸ªè¯„è®ºçš„è¯¦ç»†ä¿¡æ¯
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: è¯„è®ºID
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityComment'
        '404':
          $ref: '#/components/responses/NotFoundError'

    put:
      tags:
        - Community Comments
      summary: æ›´æ–°è¯„è®º
      description: æ›´æ–°è¯„è®ºå†…å®¹ï¼ˆä»…ä½œè€…ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: è¯„è®ºID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                  description: è¯„è®ºå†…å®¹
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommunityComment'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    delete:
      tags:
        - Community Comments
      summary: åˆ é™¤è¯„è®º
      description: åˆ é™¤è¯„è®ºï¼ˆä»…ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: è¯„è®ºID
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
                  description: åˆ é™¤åŸå› 
      responses:
        '200':
          description: åˆ é™¤æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # ç¤¾åŒºäº’åŠ¨åŠŸèƒ½
  /community/interactions/like:
    post:
      tags:
        - Community Interactions
      summary: ç‚¹èµ/å–æ¶ˆç‚¹èµ
      description: å¯¹å¸–å­æˆ–è¯„è®ºè¿›è¡Œç‚¹èµæˆ–å–æ¶ˆç‚¹èµ
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LikeRequest'
      responses:
        '200':
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          is_liked:
                            type: boolean
                            description: æ˜¯å¦å·²ç‚¹èµ
                          like_count:
                            type: integer
                            description: ç‚¹èµæ€»æ•°
                          action:
                            type: string
                            enum: [liked, unliked]
                            description: æ“ä½œç±»å‹
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/interactions/favorite:
    post:
      tags:
        - Community Interactions
      summary: æ”¶è—/å–æ¶ˆæ”¶è—
      description: æ”¶è—æˆ–å–æ¶ˆæ”¶è—å¸–å­
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FavoriteRequest'
      responses:
        '200':
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          is_favorited:
                            type: boolean
                            description: æ˜¯å¦å·²æ”¶è—
                          favorite_count:
                            type: integer
                            description: æ”¶è—æ€»æ•°
                          action:
                            type: string
                            enum: [favorited, unfavorited]
                            description: æ“ä½œç±»å‹
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/interactions/share:
    post:
      tags:
        - Community Interactions
      summary: åˆ†äº«å¸–å­
      description: åˆ†äº«å¸–å­åˆ°æŒ‡å®šå¹³å°
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShareRequest'
      responses:
        '200':
          description: åˆ†äº«æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          share_count:
                            type: integer
                            description: åˆ†äº«æ€»æ•°
                          share_url:
                            type: string
                            description: åˆ†äº«é“¾æ¥
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /community/interactions/report:
    post:
      tags:
        - Community Interactions
      summary: ä¸¾æŠ¥å†…å®¹
      description: ä¸¾æŠ¥å¸–å­ã€è¯„è®ºæˆ–ç”¨æˆ·
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportRequest'
      responses:
        '201':
          description: ä¸¾æŠ¥æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          report_id:
                            type: integer
                            description: ä¸¾æŠ¥ID
                          status:
                            type: string
                            description: ä¸¾æŠ¥çŠ¶æ€
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /community/interactions/like/check:
    get:
      tags:
        - Community Interactions
      summary: æ£€æŸ¥ç‚¹èµçŠ¶æ€
      description: æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦ç‚¹èµäº†æŒ‡å®šå†…å®¹
      security:
        - BearerAuth: []
      parameters:
        - name: target_type
          in: query
          required: true
          schema:
            type: string
            enum: [post, comment]
          description: ç›®æ ‡ç±»å‹
        - name: target_id
          in: query
          required: true
          schema:
            type: integer
          description: ç›®æ ‡ID
      responses:
        '200':
          description: æ£€æŸ¥æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          is_liked:
                            type: boolean
                            description: æ˜¯å¦å·²ç‚¹èµ
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /community/interactions/favorite/check:
    get:
      tags:
        - Community Interactions
      summary: æ£€æŸ¥æ”¶è—çŠ¶æ€
      description: æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ”¶è—äº†æŒ‡å®šå¸–å­
      security:
        - BearerAuth: []
      parameters:
        - name: post_id
          in: query
          required: true
          schema:
            type: integer
          description: å¸–å­ID
      responses:
        '200':
          description: æ£€æŸ¥æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          is_favorited:
                            type: boolean
                            description: æ˜¯å¦å·²æ”¶è—
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # VIPç³»ç»Ÿæ¥å£
  /vip/levels:
    get:
      tags:
        - VIP System
      summary: è·å–VIPç­‰çº§é…ç½®
      description: è·å–æ‰€æœ‰å¯ç”¨çš„VIPç­‰çº§é…ç½®ä¿¡æ¯
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/VIPLevel'
    post:
      tags:
        - VIP System
      summary: åˆ›å»ºVIPç­‰çº§é…ç½®
      description: åˆ›å»ºæ–°çš„VIPç­‰çº§é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVIPLevelRequest'
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/VIPLevel'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

  /vip/my-info:
    get:
      tags:
        - VIP System
      summary: è·å–æˆ‘çš„VIPä¿¡æ¯
      description: è·å–å½“å‰ç”¨æˆ·çš„VIPçŠ¶æ€å’Œè¯¦ç»†ä¿¡æ¯
      security:
        - BearerAuth: []
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserVIPInfo'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # å¡å¯†ç³»ç»Ÿæ¥å£
  /card-keys/redeem:
    post:
      tags:
        - Card Key System
      summary: å…‘æ¢å¡å¯†
      description: ä½¿ç”¨å¡å¯†ä»£ç å…‘æ¢VIPæˆ–ç§¯åˆ†å¥–åŠ±
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RedeemCardKeyRequest'
      responses:
        '200':
          description: å…‘æ¢æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CardKeyRedeemResult'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /card-keys/generate/batch:
    post:
      tags:
        - Card Key System
      summary: æ‰¹é‡ç”Ÿæˆå¡å¯†
      description: æ‰¹é‡ç”Ÿæˆå¤šä¸ªå¡å¯†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateBatchCardKeyRequest'
      responses:
        '201':
          description: ç”ŸæˆæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/BatchCardKeyResult'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

  # ç§¯åˆ†ç³»ç»Ÿæ¥å£
  /points/my-info:
    get:
      tags:
        - Points System
      summary: è·å–æˆ‘çš„ç§¯åˆ†ä¿¡æ¯
      description: è·å–å½“å‰ç”¨æˆ·çš„ç§¯åˆ†ä½™é¢å’Œç»Ÿè®¡ä¿¡æ¯
      security:
        - BearerAuth: []
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserPointsInfo'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /points/transfer:
    post:
      tags:
        - Points System
      summary: ç§¯åˆ†è½¬è´¦
      description: å‘å…¶ä»–ç”¨æˆ·è½¬è´¦ç§¯åˆ†
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointsTransferRequest'
      responses:
        '200':
          description: è½¬è´¦æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PointsTransferResult'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /points/leaderboard:
    get:
      tags:
        - Points System
      summary: è·å–ç§¯åˆ†æ’è¡Œæ¦œ
      description: è·å–ç§¯åˆ†æ’è¡Œæ¦œï¼ˆå…¬å¼€æ¥å£ï¼‰
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [current, total]
            default: current
          description: æ’è¡Œæ¦œç±»å‹ï¼ˆcurrent=å½“å‰ç§¯åˆ†ï¼Œtotal=å†å²æ€»ç§¯åˆ†ï¼‰
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
            maximum: 100
          description: è¿”å›æ•°é‡é™åˆ¶
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PointsLeaderboard'

  /points/users/{userId}/adjust:
    post:
      tags:
        - Points System
      summary: è°ƒæ•´ç”¨æˆ·ç§¯åˆ†
      description: ç®¡ç†å‘˜è°ƒæ•´æŒ‡å®šç”¨æˆ·çš„ç§¯åˆ†ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
          description: ç”¨æˆ·ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdjustPointsRequest'
      responses:
        '200':
          description: è°ƒæ•´æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/PointsAdjustResult'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

  # ç­¾åˆ°ç³»ç»Ÿæ¥å£
  /checkin/check:
    post:
      tags:
        - Checkin System
      summary: æ‰§è¡Œç­¾åˆ°
      description: ç”¨æˆ·æ‰§è¡Œæ¯æ—¥ç­¾åˆ°æ“ä½œ
      security:
        - BearerAuth: []
      responses:
        '200':
          description: ç­¾åˆ°æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CheckinResult'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /checkin/my-status:
    get:
      tags:
        - Checkin System
      summary: è·å–æˆ‘çš„ç­¾åˆ°çŠ¶æ€
      description: è·å–å½“å‰ç”¨æˆ·çš„ç­¾åˆ°çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
      security:
        - BearerAuth: []
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CheckinStatus'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /checkin/leaderboard:
    get:
      tags:
        - Checkin System
      summary: è·å–ç­¾åˆ°æ’è¡Œæ¦œ
      description: è·å–ç­¾åˆ°æ’è¡Œæ¦œï¼ˆå…¬å¼€æ¥å£ï¼‰
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [consecutive, total, monthly]
            default: consecutive
          description: æ’è¡Œæ¦œç±»å‹ï¼ˆconsecutive=è¿ç»­ç­¾åˆ°ï¼Œtotal=æ€»ç­¾åˆ°æ¬¡æ•°ï¼Œmonthly=æœˆåº¦ç­¾åˆ°ï¼‰
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
            maximum: 100
          description: è¿”å›æ•°é‡é™åˆ¶
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CheckinLeaderboard'

  /checkin/configs:
    get:
      tags:
        - Checkin System
      summary: è·å–ç­¾åˆ°é…ç½®
      description: è·å–æ‰€æœ‰ç­¾åˆ°é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security:
        - BearerAuth: []
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/CheckinConfig'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
    post:
      tags:
        - Checkin System
      summary: åˆ›å»ºç­¾åˆ°é…ç½®
      description: åˆ›å»ºæ–°çš„ç­¾åˆ°é…ç½®ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCheckinConfigRequest'
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/BaseResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CheckinConfig'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # åŸºç¡€å“åº”ç»“æ„
    BaseResponse:
      type: object
      properties:
        success:
          type: boolean
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
        message:
          type: string
          description: å“åº”æ¶ˆæ¯
        timestamp:
          type: string
          format: date-time
          description: å“åº”æ—¶é—´æˆ³

    # VIPç³»ç»Ÿç›¸å…³Schema
    VIPLevel:
      type: object
      properties:
        id:
          type: integer
          description: ç­‰çº§ID
        level:
          type: integer
          description: VIPç­‰çº§æ•°å­—
        name:
          type: string
          description: ç­‰çº§åç§°
        display_name:
          type: string
          description: æ˜¾ç¤ºåç§°
        description:
          type: string
          description: ç­‰çº§æè¿°
        benefits:
          type: object
          description: VIPæƒç›ŠJSONå¯¹è±¡
        price:
          type: number
          format: decimal
          description: ä»·æ ¼
        duration_days:
          type: integer
          description: æŒç»­å¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰
        is_active:
          type: boolean
          description: æ˜¯å¦å¯ç”¨
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CreateVIPLevelRequest:
      type: object
      required:
        - level
        - name
        - display_name
      properties:
        level:
          type: integer
          minimum: 0
          description: VIPç­‰çº§æ•°å­—
        name:
          type: string
          maxLength: 50
          description: ç­‰çº§åç§°
        display_name:
          type: string
          maxLength: 100
          description: æ˜¾ç¤ºåç§°
        description:
          type: string
          description: ç­‰çº§æè¿°
        benefits:
          type: object
          description: VIPæƒç›ŠJSONå¯¹è±¡
        price:
          type: number
          format: decimal
          minimum: 0
          description: ä»·æ ¼
        duration_days:
          type: integer
          minimum: 0
          default: 30
          description: æŒç»­å¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰

    UpdateVIPLevelRequest:
      type: object
      properties:
        name:
          type: string
          maxLength: 50
          description: ç­‰çº§åç§°
        display_name:
          type: string
          maxLength: 100
          description: æ˜¾ç¤ºåç§°
        description:
          type: string
          description: ç­‰çº§æè¿°
        benefits:
          type: object
          description: VIPæƒç›ŠJSONå¯¹è±¡
        price:
          type: number
          format: decimal
          minimum: 0
          description: ä»·æ ¼
        duration_days:
          type: integer
          minimum: 0
          description: æŒç»­å¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰
        is_active:
          type: boolean
          description: æ˜¯å¦å¯ç”¨

    UserVIPInfo:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
        username:
          type: string
          description: ç”¨æˆ·å
        is_vip:
          type: boolean
          description: æ˜¯å¦ä¸ºVIP
        vip_level:
          type: integer
          description: VIPç­‰çº§
        vip_expire_at:
          type: string
          format: date-time
          nullable: true
          description: VIPè¿‡æœŸæ—¶é—´ï¼ˆnullè¡¨ç¤ºæ— é™æœŸï¼‰
        vip_activated_at:
          type: string
          format: date-time
          nullable: true
          description: VIPæ¿€æ´»æ—¶é—´
        vip_name:
          type: string
          description: VIPç­‰çº§åç§°
        vip_display_name:
          type: string
          description: VIPç­‰çº§æ˜¾ç¤ºåç§°
        vip_benefits:
          type: object
          description: VIPæƒç›Š
        is_expired:
          type: boolean
          description: æ˜¯å¦å·²è¿‡æœŸ
        is_permanent:
          type: boolean
          description: æ˜¯å¦ä¸ºæ°¸ä¹…VIP

    SetUserVIPRequest:
      type: object
      required:
        - vip_level
      properties:
        vip_level:
          type: integer
          minimum: 1
          description: VIPç­‰çº§
        days:
          type: integer
          minimum: 0
          default: 30
          description: VIPå¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰

    # å¡å¯†ç³»ç»Ÿç›¸å…³Schema
    CardKey:
      type: object
      properties:
        id:
          type: integer
          description: å¡å¯†ID
        code:
          type: string
          description: å¡å¯†ä»£ç 
        type:
          type: string
          enum: [vip, points, days]
          description: å¡å¯†ç±»å‹
        vip_level:
          type: integer
          description: VIPç­‰çº§
        vip_days:
          type: integer
          description: VIPå¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰
        points:
          type: integer
          description: ç§¯åˆ†æ•°é‡
        status:
          type: string
          enum: [unused, used, expired, disabled]
          description: å¡å¯†çŠ¶æ€
        used_by:
          type: integer
          nullable: true
          description: ä½¿ç”¨è€…ç”¨æˆ·ID
        used_at:
          type: string
          format: date-time
          nullable: true
          description: ä½¿ç”¨æ—¶é—´
        expire_at:
          type: string
          format: date-time
          nullable: true
          description: è¿‡æœŸæ—¶é—´
        batch_id:
          type: string
          nullable: true
          description: æ‰¹æ¬¡ID
        created_by:
          type: integer
          nullable: true
          description: åˆ›å»ºè€…ç”¨æˆ·ID
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´

    CardKeyInfo:
      type: object
      properties:
        code:
          type: string
          description: å¡å¯†ä»£ç 
        type:
          type: string
          enum: [vip, points, days]
          description: å¡å¯†ç±»å‹
        status:
          type: string
          enum: [unused, used, expired, disabled]
          description: å¡å¯†çŠ¶æ€
        expire_at:
          type: string
          format: date-time
          nullable: true
          description: è¿‡æœŸæ—¶é—´
        is_expired:
          type: boolean
          description: æ˜¯å¦å·²è¿‡æœŸ

    RedeemCardKeyRequest:
      type: object
      required:
        - code
      properties:
        code:
          type: string
          description: å¡å¯†ä»£ç 

    CardKeyRedeemResult:
      type: object
      properties:
        card_type:
          type: string
          enum: [vip, points, days]
          description: å¡å¯†ç±»å‹
        vip_level:
          type: integer
          description: VIPç­‰çº§
        vip_days:
          type: integer
          description: VIPå¤©æ•°
        points:
          type: integer
          description: ç§¯åˆ†æ•°é‡

    GenerateCardKeyRequest:
      type: object
      properties:
        type:
          type: string
          enum: [vip, points, days]
          default: vip
          description: å¡å¯†ç±»å‹
        vip_level:
          type: integer
          minimum: 1
          default: 1
          description: VIPç­‰çº§
        vip_days:
          type: integer
          minimum: 0
          default: 30
          description: VIPå¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰
        points:
          type: integer
          minimum: 0
          default: 0
          description: ç§¯åˆ†æ•°é‡
        expire_at:
          type: string
          format: date-time
          nullable: true
          description: å¡å¯†è¿‡æœŸæ—¶é—´

    GenerateBatchCardKeyRequest:
      type: object
      required:
        - count
      properties:
        type:
          type: string
          enum: [vip, points, days]
          default: vip
          description: å¡å¯†ç±»å‹
        vip_level:
          type: integer
          minimum: 1
          default: 1
          description: VIPç­‰çº§
        vip_days:
          type: integer
          minimum: 0
          default: 30
          description: VIPå¤©æ•°ï¼ˆ0è¡¨ç¤ºæ— é™æœŸï¼‰
        points:
          type: integer
          minimum: 0
          default: 0
          description: ç§¯åˆ†æ•°é‡
        count:
          type: integer
          minimum: 1
          maximum: 1000
          description: ç”Ÿæˆæ•°é‡
        expire_at:
          type: string
          format: date-time
          nullable: true
          description: å¡å¯†è¿‡æœŸæ—¶é—´

    BatchCardKeyResult:
      type: object
      properties:
        batch_id:
          type: string
          description: æ‰¹æ¬¡ID
        count:
          type: integer
          description: ç”Ÿæˆæ•°é‡
        sample_codes:
          type: array
          items:
            type: string
          description: ç¤ºä¾‹å¡å¯†ä»£ç 

    # ç§¯åˆ†ç³»ç»Ÿç›¸å…³Schema
    UserPointsInfo:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
        username:
          type: string
          description: ç”¨æˆ·å
        points:
          type: integer
          description: å½“å‰ç§¯åˆ†ä½™é¢
        total_points:
          type: integer
          description: å†å²æ€»ç§¯åˆ†
        created_at:
          type: string
          format: date-time
          description: ç”¨æˆ·æ³¨å†Œæ—¶é—´

    PointsTransferRequest:
      type: object
      required:
        - to_user_id
        - amount
      properties:
        to_user_id:
          type: integer
          description: ç›®æ ‡ç”¨æˆ·ID
        amount:
          type: integer
          minimum: 1
          maximum: 10000
          description: è½¬è´¦é‡‘é¢
        description:
          type: string
          maxLength: 200
          description: è½¬è´¦å¤‡æ³¨

    PointsTransferResult:
      type: object
      properties:
        from:
          type: integer
          description: è½¬å‡ºç”¨æˆ·ID
        to:
          type: integer
          description: è½¬å…¥ç”¨æˆ·ID
        amount:
          type: integer
          description: è½¬è´¦é‡‘é¢
        result:
          type: object
          description: è½¬è´¦ç»“æœè¯¦æƒ…

    PointsLeaderboard:
      type: object
      properties:
        type:
          type: string
          enum: [current, total]
          description: æ’è¡Œæ¦œç±»å‹
        list:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: ç”¨æˆ·ID
              username:
                type: string
                description: ç”¨æˆ·å
              nickname:
                type: string
                description: ç”¨æˆ·æ˜µç§°
              points:
                type: integer
                description: å½“å‰ç§¯åˆ†
              total_points:
                type: integer
                description: å†å²æ€»ç§¯åˆ†
              rank:
                type: integer
                description: æ’å

    AdjustPointsRequest:
      type: object
      required:
        - amount
      properties:
        amount:
          type: integer
          description: è°ƒæ•´æ•°é‡ï¼ˆæ­£æ•°ä¸ºå¢åŠ ï¼Œè´Ÿæ•°ä¸ºæ‰£é™¤ï¼‰
        description:
          type: string
          maxLength: 200
          description: è°ƒæ•´åŸå› 

    PointsAdjustResult:
      type: object
      properties:
        user:
          type: object
          description: è°ƒæ•´åçš„ç”¨æˆ·ç§¯åˆ†ä¿¡æ¯
        record:
          type: object
          description: ç§¯åˆ†å˜æ›´è®°å½•

    # ç­¾åˆ°ç³»ç»Ÿç›¸å…³Schema
    CheckinResult:
      type: object
      properties:
        checkin:
          type: object
          description: ç­¾åˆ°è®°å½•
        points:
          type: object
          description: ç§¯åˆ†å¥–åŠ±è¯¦æƒ…
        total_points:
          type: integer
          description: æœ¬æ¬¡è·å¾—çš„æ€»ç§¯åˆ†
        is_bonus:
          type: boolean
          description: æ˜¯å¦è·å¾—è¿ç»­ç­¾åˆ°å¥–åŠ±
        consecutive_days:
          type: integer
          description: è¿ç»­ç­¾åˆ°å¤©æ•°

    CheckinStatus:
      type: object
      properties:
        checked_in_today:
          type: boolean
          description: ä»Šæ—¥æ˜¯å¦å·²ç­¾åˆ°
        today_checkin:
          type: object
          nullable: true
          description: ä»Šæ—¥ç­¾åˆ°è®°å½•
        stats:
          type: object
          description: ç­¾åˆ°ç»Ÿè®¡ä¿¡æ¯
        config:
          type: object
          nullable: true
          description: å½“å‰ç­¾åˆ°é…ç½®

    CheckinLeaderboard:
      type: object
      properties:
        type:
          type: string
          enum: [consecutive, total, monthly]
          description: æ’è¡Œæ¦œç±»å‹
        list:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: ç”¨æˆ·ID
              username:
                type: string
                description: ç”¨æˆ·å
              nickname:
                type: string
                description: ç”¨æˆ·æ˜µç§°
              consecutive_days:
                type: integer
                description: è¿ç»­ç­¾åˆ°å¤©æ•°
              total_checkins:
                type: integer
                description: æ€»ç­¾åˆ°æ¬¡æ•°
              monthly_checkins:
                type: integer
                description: æœˆåº¦ç­¾åˆ°æ¬¡æ•°

    CheckinConfig:
      type: object
      properties:
        id:
          type: integer
          description: é…ç½®ID
        name:
          type: string
          description: é…ç½®åç§°
        description:
          type: string
          description: é…ç½®æè¿°
        daily_points:
          type: integer
          description: æ¯æ—¥ç­¾åˆ°è·å¾—ç§¯åˆ†
        consecutive_bonus:
          type: object
          description: è¿ç»­ç­¾åˆ°å¥–åŠ±é…ç½®
        monthly_reset:
          type: boolean
          description: æ˜¯å¦æ¯æœˆé‡ç½®è¿ç»­å¤©æ•°
        is_active:
          type: boolean
          description: æ˜¯å¦å¯ç”¨
        created_by:
          type: integer
          description: åˆ›å»ºè€…ID
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´

    CreateCheckinConfigRequest:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          maxLength: 100
          description: é…ç½®åç§°
        description:
          type: string
          description: é…ç½®æè¿°
        daily_points:
          type: integer
          minimum: 0
          default: 10
          description: æ¯æ—¥ç­¾åˆ°è·å¾—ç§¯åˆ†
        consecutive_bonus:
          type: object
          default: {}
          description: è¿ç»­ç­¾åˆ°å¥–åŠ±é…ç½®ï¼ˆJSONæ ¼å¼ï¼‰
        monthly_reset:
          type: boolean
          default: true
          description: æ˜¯å¦æ¯æœˆé‡ç½®è¿ç»­å¤©æ•°

  responses:
    BadRequestError:
      description: è¯·æ±‚å‚æ•°é”™è¯¯
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/BaseResponse'
              - type: object
                properties:
                  success:
                    example: false
                  message:
                    example: è¯·æ±‚å‚æ•°é”™è¯¯

    UnauthorizedError:
      description: æœªæˆæƒè®¿é—®
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/BaseResponse'
              - type: object
                properties:
                  success:
                    example: false
                  message:
                    example: æœªæˆæƒè®¿é—®

    ForbiddenError:
      description: æƒé™ä¸è¶³
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/BaseResponse'
              - type: object
                properties:
                  success:
                    example: false
                  message:
                    example: æƒé™ä¸è¶³

    NotFoundError:
      description: èµ„æºä¸å­˜åœ¨
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/BaseResponse'
              - type: object
                properties:
                  success:
                    example: false
                  message:
                    example: èµ„æºä¸å­˜åœ¨
