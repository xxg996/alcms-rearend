{
  "info": {
    "name": "Alcms Community API",
    "description": "微社区模块完整API集合 - 板块管理、帖子发布、评论系统、互动功能",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "{{baseUrl}}/api/community"
    }
  ],
  "item": [
    {
      "name": "🏠 板块管理",
      "item": [
        {
          "name": "获取板块列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/boards?includeStats=true&activeOnly=true",
              "host": ["{{baseUrl}}"],
              "path": ["boards"],
              "query": [
                {
                  "key": "includeStats",
                  "value": "true",
                  "description": "是否包含统计信息"
                },
                {
                  "key": "activeOnly",
                  "value": "true",
                  "description": "仅显示激活的板块"
                }
              ]
            },
            "description": "获取社区板块列表，支持统计信息和状态筛选"
          }
        },
        {
          "name": "获取板块详情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/boards/1",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "1"]
            },
            "description": "根据ID获取板块详细信息"
          }
        },
        {
          "name": "搜索板块",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/boards/search/query?q=技术",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "search", "query"],
              "query": [
                {
                  "key": "q",
                  "value": "技术",
                  "description": "搜索关键词"
                }
              ]
            },
            "description": "根据关键词搜索板块"
          }
        },
        {
          "name": "获取板块统计",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/boards/1/stats",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "1", "stats"]
            },
            "description": "获取指定板块的统计信息"
          }
        },
        {
          "name": "创建板块",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"ai-discussion\",\n  \"displayName\": \"AI技术讨论\",\n  \"description\": \"人工智能、机器学习、深度学习技术交流\",\n  \"iconUrl\": \"https://example.com/icons/ai.png\",\n  \"sortOrder\": 12,\n  \"moderatorIds\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/boards",
              "host": ["{{baseUrl}}"],
              "path": ["boards"]
            },
            "description": "创建新的社区板块（需要管理员权限）"
          }
        },
        {
          "name": "更新板块",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"AI技术交流\",\n  \"description\": \"人工智能、机器学习、深度学习、LLM技术交流\",\n  \"sortOrder\": 15\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/boards/1",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "1"]
            },
            "description": "更新板块信息（需要管理员权限）"
          }
        },
        {
          "name": "删除板块",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/boards/1",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "1"]
            },
            "description": "删除板块（需要管理员权限）"
          }
        },
        {
          "name": "批量更新板块排序",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"boards\": [\n    { \"id\": 1, \"sortOrder\": 1 },\n    { \"id\": 2, \"sortOrder\": 2 },\n    { \"id\": 3, \"sortOrder\": 3 }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/boards/batch/sort",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "batch", "sort"]
            },
            "description": "批量更新板块排序（需要管理员权限）"
          }
        },
        {
          "name": "添加版主",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/boards/1/moderators",
              "host": ["{{baseUrl}}"],
              "path": ["boards", "1", "moderators"]
            },
            "description": "为板块添加版主（需要管理员权限）"
          }
        }
      ]
    },
    {
      "name": "📝 帖子管理",
      "item": [
        {
          "name": "获取帖子列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts?page=1&limit=20&boardId=1&sortBy=last_reply_time&sortOrder=DESC",
              "host": ["{{baseUrl}}"],
              "path": ["posts"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "页码"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "每页数量"
                },
                {
                  "key": "boardId",
                  "value": "1",
                  "description": "板块ID"
                },
                {
                  "key": "sortBy",
                  "value": "last_reply_time",
                  "description": "排序字段"
                },
                {
                  "key": "sortOrder",
                  "value": "DESC",
                  "description": "排序方向"
                }
              ]
            },
            "description": "获取帖子列表，支持分页、筛选、排序"
          }
        },
        {
          "name": "获取帖子详情",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "可选，登录用户会获得额外信息"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1"]
            },
            "description": "获取帖子详情，会自动增加浏览数"
          }
        },
        {
          "name": "搜索帖子",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/search/query?q=vue typescript&page=1&limit=10&boardId=3",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "search", "query"],
              "query": [
                {
                  "key": "q",
                  "value": "vue typescript",
                  "description": "搜索关键词"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "boardId",
                  "value": "3",
                  "description": "限制在特定板块搜索"
                }
              ]
            },
            "description": "全文搜索帖子内容"
          }
        },
        {
          "name": "获取热门帖子",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/hot/list?limit=10&boardId=1&days=7",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "hot", "list"],
              "query": [
                {
                  "key": "limit",
                  "value": "10",
                  "description": "返回数量"
                },
                {
                  "key": "boardId",
                  "value": "1",
                  "description": "板块ID（可选）"
                },
                {
                  "key": "days",
                  "value": "7",
                  "description": "统计天数"
                }
              ]
            },
            "description": "获取热门帖子列表"
          }
        },
        {
          "name": "获取用户帖子",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/user/1?page=1&limit=20&status=published",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "user", "1"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "status",
                  "value": "published"
                }
              ]
            },
            "description": "获取指定用户的帖子列表"
          }
        },
        {
          "name": "创建帖子",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vue 3 + TypeScript 最佳实践分享\",\n  \"content\": \"# Vue 3 + TypeScript 开发指南\\n\\n本文将分享Vue 3结合TypeScript的开发经验和最佳实践。\\n\\n## 项目设置\\n\\n```bash\\nnpm create vue@latest my-vue-project\\ncd my-vue-project\\nnpm install\\n```\\n\\n## Composition API\\n\\n使用Composition API可以更好地利用TypeScript的类型推导：\\n\\n```typescript\\nimport { ref, computed } from 'vue'\\n\\nconst count = ref(0)\\nconst doubleCount = computed(() => count.value * 2)\\n```\\n\\n## 总结\\n\\nVue 3 + TypeScript 组合为现代前端开发提供了强大的类型安全保障。\",\n  \"contentType\": \"markdown\",\n  \"summary\": \"分享Vue 3结合TypeScript的开发经验和最佳实践，包括项目设置、Composition API使用等内容\",\n  \"boardId\": 3,\n  \"tags\": [\"vue\", \"typescript\", \"frontend\"],\n  \"status\": \"published\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts",
              "host": ["{{baseUrl}}"],
              "path": ["posts"]
            },
            "description": "创建新帖子（需要登录）"
          }
        },
        {
          "name": "更新帖子",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vue 3 + TypeScript 完整开发指南（更新版）\",\n  \"content\": \"# Vue 3 + TypeScript 完整开发指南\\n\\n本文将详细介绍Vue 3结合TypeScript的开发经验和最佳实践。\\n\\n## 更新内容\\n\\n- 添加了Pinia状态管理\\n- 补充了单元测试示例\\n- 新增性能优化建议\\n\\n...\",\n  \"summary\": \"完整的Vue 3 + TypeScript开发指南，包含最新的开发实践和优化建议\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1"]
            },
            "description": "更新帖子内容（仅作者或管理员）"
          }
        },
        {
          "name": "删除帖子",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1"]
            },
            "description": "删除帖子（仅作者或管理员）"
          }
        },
        {
          "name": "置顶帖子",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isPinned\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts/1/pin",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1", "pin"]
            },
            "description": "置顶/取消置顶帖子（需要版主权限）"
          }
        },
        {
          "name": "设置精华帖",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isFeatured\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts/1/feature",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1", "feature"]
            },
            "description": "设置/取消精华帖（需要版主权限）"
          }
        },
        {
          "name": "锁定帖子",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isLocked\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts/1/lock",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1", "lock"]
            },
            "description": "锁定/解锁帖子（需要版主权限）"
          }
        }
      ]
    },
    {
      "name": "💭 评论系统",
      "item": [
        {
          "name": "获取帖子评论",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/1/comments?page=1&limit=20&sortBy=created_at&sortOrder=ASC",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1", "comments"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "sortBy",
                  "value": "created_at"
                },
                {
                  "key": "sortOrder",
                  "value": "ASC"
                }
              ]
            },
            "description": "获取帖子的评论列表"
          }
        },
        {
          "name": "获取评论详情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/1",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "1"]
            },
            "description": "获取单个评论的详细信息"
          }
        },
        {
          "name": "获取热门评论",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/1/comments/hot?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "1", "comments", "hot"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "获取帖子的热门评论"
          }
        },
        {
          "name": "获取用户评论",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/user/1?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "user", "1"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "获取指定用户的评论列表"
          }
        },
        {
          "name": "创建评论",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"感谢分享！这个Vue 3 + TypeScript的教程很实用，特别是Composition API的部分。我想问一下，在大型项目中如何更好地组织TypeScript的类型定义？\",\n  \"postId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["comments"]
            },
            "description": "创建新评论（主评论）"
          }
        },
        {
          "name": "回复评论",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"@张三 关于TypeScript类型定义的组织，我建议：\\n\\n1. 创建专门的types文件夹\\n2. 按功能模块划分类型文件\\n3. 使用namespace或module来避免命名冲突\\n4. 建立统一的类型导出入口\\n\\n希望对你有帮助！\",\n  \"postId\": 1,\n  \"parentId\": 1,\n  \"replyToUserId\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["comments"]
            },
            "description": "回复评论（楼中楼）"
          }
        },
        {
          "name": "更新评论",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"感谢分享！这个Vue 3 + TypeScript的教程很实用。\\n\\n补充一个问题：在大型项目中如何更好地组织TypeScript的类型定义？另外，对于组件的props类型定义有什么最佳实践吗？\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments/1",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "1"]
            },
            "description": "更新评论内容（仅作者）"
          }
        },
        {
          "name": "删除评论",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"用户要求删除\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/comments/1",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "1"]
            },
            "description": "删除评论（仅作者或管理员）"
          }
        }
      ]
    },
    {
      "name": "👍 互动功能",
      "item": [
        {
          "name": "点赞帖子",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetType\": \"post\",\n  \"targetId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/interactions/like",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "like"]
            },
            "description": "点赞或取消点赞帖子"
          }
        },
        {
          "name": "点赞评论",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetType\": \"comment\",\n  \"targetId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/interactions/like",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "like"]
            },
            "description": "点赞或取消点赞评论"
          }
        },
        {
          "name": "收藏帖子",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"postId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/interactions/favorite",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "favorite"]
            },
            "description": "收藏或取消收藏帖子"
          }
        },
        {
          "name": "分享帖子",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"postId\": 1,\n  \"platform\": \"wechat\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/interactions/share",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "share"]
            },
            "description": "分享帖子到指定平台"
          }
        },
        {
          "name": "举报帖子",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetType\": \"post\",\n  \"targetId\": 1,\n  \"reason\": \"inappropriate\",\n  \"description\": \"内容包含不当言论，不符合社区规范\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/interactions/report",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "report"]
            },
            "description": "举报帖子或评论"
          }
        },
        {
          "name": "获取用户点赞列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/interactions/likes/user/1?page=1&limit=20&targetType=post",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "likes", "user", "1"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "targetType",
                  "value": "post",
                  "description": "筛选类型: post, comment"
                }
              ]
            },
            "description": "获取用户的点赞记录"
          }
        },
        {
          "name": "获取用户收藏列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/interactions/favorites/user/1?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "favorites", "user", "1"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "获取用户的收藏列表"
          }
        },
        {
          "name": "检查点赞状态",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/interactions/like/check?targetType=post&targetId=1",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "like", "check"],
              "query": [
                {
                  "key": "targetType",
                  "value": "post"
                },
                {
                  "key": "targetId",
                  "value": "1"
                }
              ]
            },
            "description": "检查当前用户是否点赞了指定内容"
          }
        },
        {
          "name": "检查收藏状态",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/interactions/favorite/check?postId=1",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "favorite", "check"],
              "query": [
                {
                  "key": "postId",
                  "value": "1"
                }
              ]
            },
            "description": "检查当前用户是否收藏了指定帖子"
          }
        }
      ]
    },
    {
      "name": "🛡️ 管理功能",
      "item": [
        {
          "name": "获取举报列表",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/reports?page=1&limit=20&status=pending&targetType=post&reason=inappropriate",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "reports"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "status",
                  "value": "pending",
                  "description": "pending, reviewing, resolved, rejected"
                },
                {
                  "key": "targetType",
                  "value": "post",
                  "description": "post, comment, user"
                },
                {
                  "key": "reason",
                  "value": "inappropriate",
                  "description": "spam, inappropriate, harassment, fake, other"
                }
              ]
            },
            "description": "获取举报列表（需要管理员权限）"
          }
        },
        {
          "name": "处理举报",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"resolved\",\n  \"handlerNote\": \"经核实，该帖子确实包含不当内容，已对作者进行警告处理，并要求修改内容。\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/reports/1",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "reports", "1"]
            },
            "description": "处理举报（需要管理员权限）"
          }
        },
        {
          "name": "批量更新帖子",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"postIds\": [1, 2, 3],\n  \"updateData\": {\n    \"status\": \"reviewing\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/posts/batch/update",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "batch", "update"]
            },
            "description": "批量更新帖子状态（需要管理员权限）"
          }
        },
        {
          "name": "批量删除评论",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"commentIds\": [1, 2, 3],\n  \"reason\": \"违反社区规范，批量清理\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments/batch/delete",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "batch", "delete"]
            },
            "description": "批量删除评论（需要管理员权限）"
          }
        }
      ]
    },
    {
      "name": "📊 统计数据",
      "item": [
        {
          "name": "用户帖子统计",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/user/1/stats",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "user", "1", "stats"]
            },
            "description": "获取用户的帖子统计信息"
          }
        },
        {
          "name": "用户评论统计",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/user/1/stats",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "user", "1", "stats"]
            },
            "description": "获取用户的评论统计信息"
          }
        },
        {
          "name": "用户互动统计",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/interactions/stats/user/1",
              "host": ["{{baseUrl}}"],
              "path": ["interactions", "stats", "user", "1"]
            },
            "description": "获取用户的互动统计信息"
          }
        },
        {
          "name": "获取子评论数量",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/1/children/count",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "1", "children", "count"]
            },
            "description": "获取评论的子评论数量"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// 自动设置社区API基础URL",
          "if (pm.environment.get('baseUrl')) {",
          "    pm.variables.set('baseUrl', pm.environment.get('baseUrl') + '/api/community');",
          "} else {",
          "    pm.variables.set('baseUrl', 'http://localhost:3000/api/community');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// 通用测试脚本",
          "pm.test('Status code is success', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
          "});",
          "",
          "pm.test('Response has success field', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('success');",
          "});",
          "",
          "pm.test('Response has message field', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('message');",
          "});",
          "",
          "// 如果是登录请求，保存token",
          "if (pm.request.url.path.includes('login')) {",
          "    const jsonData = pm.response.json();",
          "    if (jsonData.success && jsonData.data && jsonData.data.accessToken) {",
          "        pm.environment.set('accessToken', jsonData.data.accessToken);",
          "        console.log('Token saved:', jsonData.data.accessToken);",
          "    }",
          "}"
        ]
      }
    }
  ]
}
